(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"0254":function(t,e,n){},"0586":function(t,e,n){},"0613":function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"selectPlay",(function(){return V})),n.d(i,"insertSong",(function(){return J})),n.d(i,"saveSearchHistory",(function(){return z})),n.d(i,"deleteSearchHistory",(function(){return Q})),n.d(i,"clearSearchHistory",(function(){return Z})),n.d(i,"deleteSong",(function(){return tt})),n.d(i,"deleteSongList",(function(){return et})),n.d(i,"savePlayHistory",(function(){return nt})),n.d(i,"saveFavoriteList",(function(){return it})),n.d(i,"deleteFavoriteList",(function(){return st}));var s={};n.r(s),n.d(s,"singer",(function(){return rt})),n.d(s,"playing",(function(){return at})),n.d(s,"fullScreen",(function(){return ot})),n.d(s,"playlist",(function(){return ct})),n.d(s,"sequenceList",(function(){return ut})),n.d(s,"mode",(function(){return lt})),n.d(s,"currentIndex",(function(){return ft})),n.d(s,"vkey",(function(){return dt})),n.d(s,"disc",(function(){return ht})),n.d(s,"currentSong",(function(){return pt})),n.d(s,"topList",(function(){return mt})),n.d(s,"searchHistory",(function(){return gt})),n.d(s,"playHistory",(function(){return yt})),n.d(s,"favoriteList",(function(){return vt})),n.d(s,"likeSet",(function(){return bt}));var r=n("2b0e"),a=n("2f62"),o=(n("b0c0"),n("bc6b")),c={state:{voyageInfo:{seatNumber:"12",seatClass:"Y",seatType:2,seatName:"3D"},userInfo:{},name:"",phone:"",token:"",airbusId:""},mutations:{setName:function(t,e){t.name=e,t.userInfo.nickname=e,o["a"].set("nickname",e)},setToken:function(t,e){t.token=e,t.userInfo.token=e,o["a"].set("token",e)},setPhone:function(t,e){t.token=e,t.userInfo.token=e,o["a"].set("phone",e)},setAirbusId:function(t,e){t.airbusId=e,o["a"].set("airbusId",e)},setSeatNumber:function(t,e){t.voyageInfo.seatNumber=e,o["a"].set("seatNumber",e)},setSeatName:function(t,e){t.voyageInfo.seatName=e,o["a"].set("seatName",e)},setSeatType:function(t,e){t.voyageInfo.seatType=e,o["a"].set("seatType",e)},setUserInfo:function(t,e){t.userInfo=e,o["a"].set("userInfo",e)}},actions:{setUserInfo:function(t,e){t.commit("setName",e.name),t.commit("setName",e.name),t.commit("setToken",e.token),t.commit("setAirbusId",e.airbusId),t.commit("setUserInfo",e)},setUserLoginInfo:function(t,e){t.commit("setToken",e.token),t.commit("setAirbusId",e.id)}}},u=(n("a434"),n("4160"),n("159b"),{searchIndexByKey:function(t,e,n){var i=-1;return t.forEach((function(t,s){t[e]==n&&(i=s)})),i},sortByKey:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.sort((function(t,i){return n?t[e]-i[e]:i[e]-t[e]})),t}}),l={state:{cartList:[]},mutations:{addCartItem:function(t,e){var n=u.searchIndexByKey(t.cartList,"Id",e.Id);-1==n?t.cartList.push(e):t.cartList[n].orderNumber=t.cartList[n].orderNumber+e.orderNumber},delCartItem:function(t,e){t.cartList.splice(e,1)},clearDishCart:function(t){t.cartList=[]}},actions:{setUserInfo:function(t,e){t.commit("setName",e.name),t.commit("setToken",e.token)}}},f={state:{cartList:[],shoppingDetail:{},pointsCartList:[],pointsDetail:{}},mutations:{addShoppingCartItem:function(t,e){var n=u.searchIndexByKey(t.cartList,"Id",e.Id);-1==n?t.cartList.push(e):t.cartList[n].orderNumber=t.cartList[n].orderNumber+e.orderNumber},setShoppingDetail:function(t,e){t.shoppingDetail=e},delShoppingCartItem:function(t,e){t.cartList.splice(e,1)},clearShoppingCart:function(t){t.cartList=[]},addPointsCartItem:function(t,e){var n=u.searchIndexByKey(t.pointsCartList,"Id",e.Id);-1==n?t.pointsCartList.push(e):t.pointsCartList[n].orderNumber=t.pointsCartList[n].orderNumber+e.orderNumber},setPointsDetail:function(t,e){t.shoppingDetail=e},delPointsCartItem:function(t,e){t.pointsCartList.splice(e,1)},clearPointsCart:function(t){t.pointsCartList=[]}},actions:{setUserInfo:function(t,e){t.commit("setName",e.name),t.commit("setToken",e.token)}}},d=(n("a9e3"),n("b680"),{state:{userInfo:{},name:"",phone:"",internetData:"",internetCartNum:1,total:0},mutations:{setInternetCartData:function(t,e){t.internetData=e,t.internetData.total=Number(t.internetData.Price)},changeInternetStepper:function(t,e){t.internetCartNum=e,t.total=(Number(t.internetData.Price)*e).toFixed(2)}},actions:{commitInternetCartData:function(t,e){t.commit("setInternetCartData",e.data)}}}),h={state:{payType:"1",address:"",points:0,userData:{},seatType:2,language:""},mutations:{changePayType:function(t,e){t.payType=e},addressData:function(t,e){t.address=e},setUserData:function(t,e){t.userData=e,t.points=t.userData.points,t.seatType=t.userData.Seat.seatType},changeLanguage:function(t,e){t.language=e}},actions:{setAddressData:function(t,e){t.commit("addressData",e.data)}}},p={state:{newsDetails:{}},mutations:{addNewsDetails:function(t,e){t.newsDetails={},t.newsDetails=e,o["a"].set("newsDetails",e)}},actions:{setNewsDetails:function(t,e){t.commit("addNewsDetails",e)}}},m={state:{videoList:[],myLikeList:[]},mutations:{setVideoList:function(t,e){t.videoList=e},setMyLikeList:function(t,e){t.myLikeList=e}},actions:{setAddressData:function(t,e){t.commit("addressData",e.data)}}},g=(n("c740"),n("fb6a"),"SET_SINGER"),y="SET_PLAYING_STATE",v="SET_FULL_SCREEN",b="SET_PLAYLIST",S="SET_SEQUENCE_LIST",L="SET_PLAY_MODE",C="SET_CURRENT_INDEX",_="SET_VKEY",O="SET_DISC",I="SET_TOP_LIST",T="SET_SEARCH_HISTORY",k="SET_PLAY_HISTORY",j="SET_FAVORITE_LIST",P=n("335a"),x="__search__",E=15,w="__play__",D=200,N="__favorite__",M=200;function F(t,e,n,i){var s=t.findIndex(n);0!==s&&(s>0&&t.splice(s,1),t.unshift(e),i&&t.length>i&&t.pop())}function $(t,e){var n=t.findIndex(e);n>-1&&t.splice(n,1)}function U(t){var e=P["a"].get(x,[]);return F(e,t,(function(e){return e===t}),E),P["a"].set(x,e),e}function B(t){var e=P["a"].get(x,[]);return $(e,(function(e){return e===t})),P["a"].set(x,e),e}function q(){return P["a"].remove(x),[]}function A(){return P["a"].get(x,[])}function R(t){var e=P["a"].get(w,[]);return F(e,t,(function(e){return t.id===e.id}),D),P["a"].set(w,e),e}function Y(){return P["a"].get(w,[])}function H(t){var e=P["a"].get(N,[]);return F(e,t,(function(e){return t.id===e.id}),M),P["a"].set(N,e),e}function G(t){var e=P["a"].get(N,[]);return $(e,(function(e){return e.id===t.id})),P["a"].set(N,e),e}function X(){return P["a"].get(N,[])}function W(t,e){return t.findIndex((function(t){return t.id===e.id}))}var K,V=function(t,e){var n=t.commit,i=(t.state,e.list),s=e.index;n("setLikeSet",i),n(S,i),n(b,i),n(C,s),n(v,!0),n(y,!0)},J=function(t,e){var n=t.commit,i=t.state,s=i.playlist.slice(),r=i.sequenceList.slice(),a=i.currentIndex,o=s[a],c=W(s,e);a++,s.splice(a,0,e),c>-1&&(a>c?(s.splice(c,1),a--):s.splice(c+1,1));var u=W(r,o)+1,l=W(r,e);r.splice(u,0,e),l>-1&&(u>l?r.splice(l,1):r.splice(l+1,1)),n(b,s),n(S,r),n(C,a),n(v,!0),n(y,!0)},z=function(t,e){var n=t.commit;n(T,U(e))},Q=function(t,e){var n=t.commit;n(T,B(e))},Z=function(t){var e=t.commit;e(T,q())},tt=function(t,e){var n=t.commit,i=t.state,s=i.playlist.slice(),r=i.sequenceList.slice(),a=i.currentIndex,o=W(s,e);s.splice(o,1);var c=W(r,e);r.splice(c,1),(a>o||a===s.length)&&a--,n(b,s),n(S,r),n(C,a),s.length?n(y,!0):n(y,!1)},et=function(t){var e=t.commit;e(C,-1),e(b,[]),e(S,[]),e(y,!1)},nt=function(t,e){var n=t.commit;n(k,R(e))},it=function(t,e){var n=t.commit;n(j,H(e))},st=function(t,e){var n=t.commit;n(j,G(e))},rt=function(t){return t.singer},at=function(t){return t.playing},ot=function(t){return t.fullScreen},ct=function(t){return t.playlist},ut=function(t){return t.sequenceList},lt=function(t){return t.mode},ft=function(t){return t.currentIndex},dt=function(t){return t.vkey},ht=function(t){return t.disc},pt=function(t){return t.playlist[t.currentIndex]||{}},mt=function(t){return t.topList},gt=function(t){return t.searchHistory},yt=function(t){return t.playHistory},vt=function(t){return t.favoriteList},bt=function(t){return t.likeSet},St=n("89ea"),Lt={likeSet:{},singer:{},playing:!1,fullScreen:!1,playlist:[],sequenceList:[],mode:St["a"].sequence,currentIndex:-1,vkey:"",disc:"",topList:{},searchHistory:A(),playHistory:Y(),favoriteList:X()},Ct=Lt,_t=n("ade3"),Ot=(K={},Object(_t["a"])(K,g,(function(t,e){t.singer=e})),Object(_t["a"])(K,y,(function(t,e){t.playing=e})),Object(_t["a"])(K,v,(function(t,e){t.fullScreen=e})),Object(_t["a"])(K,b,(function(t,e){t.playlist=e})),Object(_t["a"])(K,S,(function(t,e){t.sequenceList=e})),Object(_t["a"])(K,L,(function(t,e){t.mode=e})),Object(_t["a"])(K,C,(function(t,e){t.currentIndex=e})),Object(_t["a"])(K,_,(function(t,e){t.vkey=e})),Object(_t["a"])(K,O,(function(t,e){t.disc=e})),Object(_t["a"])(K,I,(function(t,e){t.topList=e})),Object(_t["a"])(K,T,(function(t,e){t.searchHistory=e})),Object(_t["a"])(K,k,(function(t,e){t.playHistory=e})),Object(_t["a"])(K,j,(function(t,e){t.favoriteList=e})),Object(_t["a"])(K,"setLikeSet",(function(t,e){t.likeSet={},e.forEach((function(e,n){e.isLike?t.likeSet[e.id]=!0:t.likeSet[e.id]=!1}))})),Object(_t["a"])(K,"likeSong",(function(t,e){t.likeSet[e]=!0})),Object(_t["a"])(K,"disLikeSong",(function(t,e){t.likeSet[e]=!1})),K),It=Ot,Tt={getters:s,state:Ct,mutations:It,actions:i},kt={state:{chatList:[],noticeList:[]},mutations:{addChatList:function(t,e){t.chatList=[],t.chatList=e,o["a"].set("chatList",e)},addNoticeList:function(t,e){t.noticeList=[],t.noticeList=e,o["a"].set("noticeList",e)}},actions:{saveChatList:function(t,e){t.commit("addChatList",e)},saveNoticeList:function(t,e){t.commit("addNoticeList",e)}}};r["a"].use(a["a"]);e["a"]=new a["a"].Store({state:{name:"1234"},mutations:{},actions:{},modules:{login:c,dish:l,shopping:f,me:h,home:d,news:p,video:m,music:Tt,message:kt}})},1:function(t,e){},"162e":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"abus-layout-ctn"},[n("section",{staticClass:"abus-layout-main-ctn"},[n("router-view",{staticClass:"abus-layout-view-ctn"})],1),n("music-player")],1)},s=[],r=n("d4ec"),a=n("bee2"),o=n("262e"),c=n("2caf"),u=n("9ab4"),l=n("60a3"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.playlist.length>0,expression:"playlist.length>0"}],staticClass:"player"},[n("transition",{attrs:{name:"normal"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.fullScreen,expression:"fullScreen"}],staticClass:"normal-player"},[n("div",{staticClass:"header"},[n("i",{staticClass:"icon icon-back",on:{click:t.toDown}})]),n("div",{staticClass:"middle",on:{touchstart:function(e){return e.preventDefault(),t.middleTouchStart(e)},touchmove:function(e){return e.preventDefault(),t.middleTouchMove(e)},touchend:t.middleTouchEnd}},[n("div",{staticClass:"title-ctn"},[n("img",{staticClass:"album-img",class:t.playImg,attrs:{src:t.coverImage,alt:""}}),n("h1",{staticClass:"title-sing-name",domProps:{innerHTML:t._s(t.currentSong.name)}}),n("h1",{staticClass:"title-singer",domProps:{innerHTML:t._s(t.currentSong.singer)}})]),n("p",{staticClass:"cd-lyric",class:t.playImgTxt},[t._v(" "+t._s(t.playingLyric)+" ")]),n("scroll",{ref:"lyricList",staticClass:"middle-r middleTime",attrs:{data:t.currentLyric&&t.currentLyric.lines}},[n("div",{staticClass:"lyric-wrapper"},[t.currentLyric?n("div",t._l(t.currentLyric.lines,(function(e,i){return n("p",{key:i,ref:"lyricLine",refInFor:!0,staticClass:"text",class:{current:t.currentLineNum===i}},[t._v(t._s(e.txt))])})),0):t._e()])])],1),n("div",{staticClass:"dot-wrapper"},[n("span",{staticClass:"dot",class:{active:"cd"===t.currentShow}}),n("span",{staticClass:"dot",class:{active:"lyric"===t.currentShow}})]),n("div",{staticClass:"time-box"},[n("div",{staticClass:"time"},[n("progressBar",{staticStyle:{overflow:"hidden"},attrs:{percent:t.percent},on:{percentChange:t.percentChange}})],1),n("div",{staticClass:"time-label"},[n("span",{staticClass:"time-l"},[t._v(t._s(t.format(t.currentTime)))]),n("span",{staticClass:"time-r"},[t._v(t._s(t.format(t.currentSong.duration)))])])]),n("div",{staticClass:"bottom-button-box"},[n("div",{staticClass:"icon-ctn",on:{click:t.changeMode}},[0===t.mode?n("i",{staticClass:"icon icon-play-randon"}):t._e(),1===t.mode?n("i",{staticClass:"icon icon-play-single"}):t._e(),2===t.mode?n("i",{staticClass:"icon icon-play-cycle"}):t._e()]),n("div",{staticClass:"icon-ctn"},[t.likeSet[t.currentSong.id]?t._e():n("i",{staticClass:"icon icon-collect-undo",on:{click:function(e){return t.collectSong(t.currentSong)}}}),t.likeSet[t.currentSong.id]?n("i",{staticClass:"icon icon-collect",on:{click:function(e){return t.unCollectSong(t.currentSong)}}}):t._e()]),n("div",{staticClass:"icon-ctn play-ctn",on:{click:t.togglePlaying}},[t.playing?n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-stop"}})]):t._e(),t.playing?t._e():n("svg",{staticClass:"icon play-btn",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-play-white"}})])]),n("div",{staticClass:"icon-ctn",on:{click:t.next}},[n("i",{staticClass:"icon icon-next-step"})]),n("div",{staticClass:"icon-ctn",on:{click:function(e){return e.stopPropagation(),t.playListClick(e)}}},[n("i",{staticClass:"icon icon-song-list"})])]),n("audio",{ref:"audio",on:{canplay:t.audioReady,error:t.audioError,timeupdate:t.timeUpdate,ended:t.songEnd}})])]),n("music-player",{attrs:{currentSong:t.currentSong,playing:t.playing},on:{toUp:t.toUp,togglePlaying:t.togglePlaying,playListClick:t.playListClick}}),n("playList",{ref:"playList"})],1)},d=[],h=(n("99af"),n("c740"),n("d3b7"),n("25f0"),n("5530")),p=n("8289"),m=n("2f62"),g=(n("4160"),n("a15b"),n("b0c0"),n("ac1f"),n("5319"),n("159b"),{g_tk:5381,inCharset:"utf-8",outCharset:"utf-8",notice:0,format:"jsonp"}),y=0,v=n("bc3a"),b=n.n(v);function S(t){var e="/api/lyric",n=Object.assign({},g,{songmid:t,platform:"yqq",hostUin:0,needNewCode:0,categoryId:1e7,pcachetime:+new Date,format:"json"});return b.a.get(e,{params:n}).then((function(t){return Promise.resolve(t.data)}))}function L(t){var e="/api/vkey",n=Object.assign({},g,{songmid:t,filename:"C400".concat(t,".m4a"),guid:"1472133172",uin:0,platform:"yqq",needNewCode:0,cid:"205361747",format:"json"});return b.a.get(e,{params:n}).then((function(t){return Promise.resolve(t.data)}))}var C=n("27ae");function _(t,e){var n="http://dl.stream.qqmusic.qq.com/http://dl.stream.qqmusic.qq.com/C400".concat(e,".m4a?vkey=").concat(t,"&guid=1472133172&uin=0&fromtag=66");return n}n("fb6a");function O(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function I(t){for(var e=t.slice(),n=0;n<e.length;n++){var i=O(0,e.length-1),s=e[n];e[n]=e[i],e[i]=s}return e}var T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"progressBar",staticClass:"progress-bar",on:{click:t.progressClick}},[n("div",{staticClass:"bar-inner"},[n("div",{ref:"progress",staticClass:"progress"}),n("div",{ref:"progressBtn",staticClass:"progress-btn-wrapper",on:{touchstart:function(e){return e.preventDefault(),t.progressTouchStart(e)},touchmove:function(e){return e.preventDefault(),t.progressTouchMove(e)},touchend:t.progressTouchEnd}},[n("div",{ref:"progressBtn",staticClass:"progress-btn"})])])])},k=[],j=(n("a9e3"),{props:{percent:{type:Number,default:0}},data:function(){return{progressBtnWidth:""}},created:function(){this.touch={}},methods:{progressTouchStart:function(t){this.touch.initiated=!0,this.touch.startX=t.touches[0].pageX,this.touch.left=this.$refs.progress.clientWidth},progressTouchMove:function(t){if(this.touch.initiated){var e=t.touches[0].pageX-this.touch.startX,n=Math.min(this.$refs.progressBar.clientWidth-this.progressBtnWidth,Math.max(0,this.touch.left+e));this._offset(n)}},progressTouchEnd:function(){this.touch.initiated=!1,this._triggerPercent()},progressClick:function(t){var e=this.$refs.progressBar.getBoundingClientRect(),n=t.pageX-e.left;this._offset(n),this._triggerPercent()},_triggerPercent:function(){var t=this.$refs.progressBar.clientWidth-this.progressBtnWidth,e=this.$refs.progress.clientWidth/t;this.$emit("percentChange",e)},_offset:function(t){this.$refs.progress.style.width="".concat(t,"px"),this.$refs.progressBtn.style.transform="translate3d(".concat(t,"px,0,0)")}},watch:{percent:function(t){if(t>=0&&!this.touch.initiated){this.progressBtnWidth=this.$refs.progressBtn.clientWidth/2;var e=this.$refs.progressBar.clientWidth-this.progressBtnWidth,n=t*e;this._offset(n)}}}}),P=j,x=(n("f340"),n("2877")),E=Object(x["a"])(P,T,k,!1,null,"df1e0e6c",null),w=E.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"list-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],staticClass:"playlist-box",on:{click:t.hide}},[n("div",{staticClass:"playlist",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"list-header"},[n("span",{staticClass:"song-total"},[t._v("Currently playing (117)")]),n("i",{staticClass:"icon icon-toggle-down",on:{click:t.hide}})]),n("Scroll",{ref:"listContent",staticClass:"list-con-ctn",attrs:{data:t.sequenceList}},t._l(t.sequenceList,(function(e,i){return n("li",{key:i,ref:"listItem",refInFor:!0,class:{playing:t.getCurrentIcon(e)},on:{click:function(n){return t.selectItem(e,i)}}},[n("div",{staticClass:"lihear-img-box"},[n("span",{staticClass:"number-ctn"},[t._v(" "+t._s(i+1)+" ")]),n("abus-music-icon",{staticClass:"music-ctn",attrs:{color:"#ffffff"}})],1),n("p",{staticClass:"list2-con"},[t._v(t._s(e.name))]),n("div",{staticClass:"list-end"},[n("i",{staticClass:"icon icon-music-delete",on:{click:function(n){return n.stopPropagation(),t.deleteOne(e)}}})])])})),0)],1)])])},N=[],M=n("89ea"),F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper"},[t._t("default")],2)},$=[],U=n("1fba"),B={props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!0},listenScroll:{type:Boolean,default:!1},data:{type:Array,default:null},pullup:{type:Boolean,default:!1},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20}},mounted:function(){var t=this;setTimeout((function(){t._initScroll()}),20)},methods:{_initScroll:function(){var t=this;if(this.$refs.wrapper){if(this.scroll=new U["a"](this.$refs.wrapper,{probeType:this.probeType,click:this.click}),this.listenScroll){var e=this;this.scroll.on("scroll",(function(t){e.$emit("scroll",t)}))}this.pullup&&this.scroll.on("scrollEnd",(function(){t.scroll.y<=t.scroll.maxScrollY+50&&t.$emit("scrollToEnd")})),this.beforeScroll&&this.scroll.on("beforeScrollStart",(function(){t.$emit("beforeScroll")}))}},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)}},watch:{data:function(){var t=this;setTimeout((function(){t.refresh()}),this.refreshDelay)}}},q=B,A=Object(x["a"])(q,F,$,!1,null,null,null),R=A.exports,Y=(Object(h["a"])({},Object(m["c"])(["playlist"])),{computed:Object(h["a"])({iconMode:function(){return this.mode===M["a"].sequence?"icon-sequence":this.mode===M["a"].loop?"icon-loop":"icon-random"}},Object(m["c"])(["sequenceList","playlist","currentSong","mode","favoriteList"])),methods:Object(h["a"])(Object(h["a"])({changeMode:function(){var t=(this.mode+1)%3;this.setPlayMode(t);var e=null;e=t===M["a"].random?I(this.sequenceList):this.sequenceList,this.resetCurrentIndex(e),this.setPlaylist(e)},resetCurrentIndex:function(t){var e=this,n=t.findIndex((function(t){return t.id===e.currentSong.id}));this.setCurrentIndex(n)},toggleFavorite:function(t){this.isFavorite(t)?this.deleteFavoriteList(t):this.saveFavoriteList(t)},getFavoriteIcon:function(t){return this.isFavorite(t)?"icon-favorite":"icon-not-favorite"},isFavorite:function(t){var e=this.favoriteList.findIndex((function(e){return e.id===t.id}));return e>-1}},Object(m["d"])({setPlayMode:"SET_PLAY_MODE",setPlaylist:"SET_PLAYLIST",setCurrentIndex:"SET_CURRENT_INDEX",setPlayingState:"SET_PLAYING_STATE"})),Object(m["b"])(["saveFavoriteList","deleteFavoriteList"]))}),H=(Object(h["a"])({},Object(m["c"])(["searchHistory"])),Object(h["a"])({onQueryChange:function(t){this.query=t},blurInput:function(){this.$refs.searchBox.blur()},addQuery:function(t){this.$refs.searchBox.setQuery(t)},saveSearch:function(){this.saveSearchHistory(this.query)}},Object(m["b"])(["saveSearchHistory","deleteSearchHistory"])),n("1e90")),G={mixins:[Y],data:function(){return{showFlag:!1,refreshDelay:120,collect:!1}},components:{Scroll:R,AbusMusicIcon:H["a"]},computed:Object(h["a"])({modeText:function(){return this.mode===M["a"].sequence?"顺序播放":this.mode===M["a"].random?"随机播放":"单曲循环"}},Object(m["c"])(["sequenceList","currentSong","playlist","mode"])),methods:Object(h["a"])(Object(h["a"])({show:function(){var t=this;this.showFlag=!0,setTimeout((function(){t.$refs.listContent.refresh(),t.scrollToCurrent(t.currentSong)}),20)},hide:function(){this.showFlag=!1},getCurrentIcon:function(t){return this.currentSong.id===t.id},scrollToCurrent:function(t){var e=this.sequenceList.findIndex((function(e){return t.id===e.id}));this.$refs.listContent.scrollToElement(this.$refs.listItem[e],300)},showConfirm:function(){this.$refs.confirm.show()},confirmClear:function(){this.deleteSongList()},selectItem:function(t,e){this.showFlag=!1,this.mode===M["a"].random&&(e=this.playlist.findIndex((function(e){return e.id===t.id}))),this.setCurrentIndex(e),this.setPlayingState(!0)},deleteOne:function(t){this.deleteSong(t),this.$refs.topTip.show(),this.playlist.length||this.hide()},getFavoriteListCollect:function(t){return!this.isFavoriteList(t)},toggleFavoriteList:function(t){this.isFavoriteList(t)?this.deleteFavoriteList(t):this.saveFavoriteList(t)},isFavoriteList:function(t){var e=this.favoriteList.findIndex((function(e){return e.id===t.id}));return e>-1},showAddSong:function(){}},Object(m["d"])({setCurrentIndex:"SET_CURRENT_INDEX",setPlayingState:"SET_PLAYING_STATE"})),Object(m["b"])(["deleteSong","deleteSongList","saveFavoriteList","deleteFavoriteList"])),watch:{currentSong:function(t,e){var n=this;this.showFlag&&t.id!==e.id&&setTimeout((function(){n.scrollToCurrent(t)}),20)}}},X=G,W=(n("9ac0"),n("1c53")),K=Object(x["a"])(X,D,N,!1,null,"d7c3a19e",null);"function"===typeof W["default"]&&Object(W["default"])(K);var V=K.exports,J=n("3c75"),z=n.n(J),Q=n("7ff2"),Z={components:{progressBar:w,Scroll:R,MusicPlayer:p["a"],playList:V},computed:Object(h["a"])(Object(h["a"])({},Object(m["c"])(["fullScreen","playlist","currentSong","vkey","likeSet","playing","currentIndex","mode","sequenceList","favoriteList"])),{},{coverImage:function(){return this.currentSong.image?this.currentSong.image:n("8d76")},percent:function(){return this.currentTime/this.currentSong.duration},playImg:function(){var t=this.playing?"playSrart":"playStorp",e="lyric"===this.currentShow?"playImg":"";return"".concat(t," ").concat(e)},playImgTxt:function(){var t="lyric"===this.currentShow?"playImg":"";return"".concat(t)}}),data:function(){return{songUrlData:"",vkeyData:"",songReadey:!1,currentTime:"",currentLyric:null,currentShow:"cd",currentLineNum:0,playingLyric:""}},created:function(){this.touch={}},mounted:function(){},methods:Object(h["a"])(Object(h["a"])({collectSong:function(t){var e=this;Q["a"].subscribeSong({id:t.id}).then((function(n){"200"==n.code?(e.disLikeSong(t.id),e.$toast("收藏歌曲成功!")):e.$toast(n.message)}))},unCollectSong:function(t){var e=this;Q["a"].unSubscribeSong({id:t.id}).then((function(n){"200"==n.code?(e.disLikeSong(t.id),e.$toast("取消收藏歌曲成功!")):e.$toast(n.message)}))},getFavoriteListCollect:function(t){return!this.isFavoriteList(t)},toggleFavoriteList:function(t){this.isFavoriteList(t)?this.deleteFavoriteList(t):this.saveFavoriteList(t)},isFavoriteList:function(t){var e=this.favoriteList.findIndex((function(e){return e.id===t.id}));return e>-1},playListClick:function(){this.$refs.playList.show()},togglePlaying:function(){this.currentLyric&&this.currentLyric.togglePlay(),this.setPlayingState(!this.playing)},toDown:function(){this.setFullScreen(!1)},toUp:function(){this.setFullScreen(!0)},next:function(){if(this.songReadey){if(1===this.playlist.length)this.songLoop();else{var t=this.currentIndex+1;t===this.playlist.length&&(t=0),this.setCurrentIndex(t),this.setPlayingState("true")}this.songReadey=!1}},prev:function(){if(this.songReadey){if(1===this.playlist.length)this.songLoop();else{var t=this.currentIndex-1;-1===t&&(t=this.playlist.length-1),this.setCurrentIndex(t),this.setPlayingState("false")}this.songReadey=!1}},audioReady:function(){this.songReadey=!0,this.savePlayHistory(this.currentSong)},audioError:function(){console.log("当前歌曲加载失败，请尝试其他歌曲"),this.songReadey=!0},timeUpdate:function(t){this.currentTime=t.target.currentTime},percentChange:function(t){var e=this.currentSong.duration*t;this.$refs.audio.currentTime=e,this.currentLyric&&this.currentLyric.seek(1e3*e)},format:function(t){t|=0;var e=t/60|0,n=t%60;return 1===n.toString().length&&(n="0".concat(n)),"".concat(e,":").concat(n)},changeMode:function(){var t=(this.mode+1)%3;this.setPlayMode(t);var e=null;e=t===M["a"].random?I(this.sequenceList):this.sequenceList,this.resetCurrentIndex(e),this.setPlayList(e)},resetCurrentIndex:function(t){var e=this,n=t.findIndex((function(t){return t.id===e.currentSong.id}));this.setCurrentIndex(n)},songEnd:function(){this.mode===M["a"].loop?this.songLoop():this.next()},songLoop:function(){this.currentLyric&&this.currentLyric.seek(0),this.$refs.audio.currentTime=0,this.$refs.audio.play()},_getVkey:function(t){var e=this,n=this;L(t).then((function(t){if(t.code===y){var e=t.data.items[0].vkey;n.setVkey(e)}else console.log("player组件 vkey请求错误")})),S(t).then((function(t){if(e.currentLyric=null,t.code===y){var n=C["Base64"].decode(t.lyric);e.currentLyric=new z.a(n,e.handleLyric),e.playing&&e.currentLyric.play()}else console.log("player组件 Lyric请求错误"),e.currentLyric=null,e.playingLyric="",e.currentLineNum=0}))},handleLyric:function(t){var e=t.lineNum,n=t.txt;if(this.currentLineNum=e,e>5){var i=this.$refs.lyricLine[e-5];this.$refs.lyricList.scrollToElement(i,1e3)}else this.$refs.lyricList.scrollTo(0,0,1e3);this.playingLyric=n},songPlay:function(){this.$refs.audio.src=this.songUrlData,this.$refs.audio.crossOrigin=this.anonymous,this.$refs.audio.play()},middleTouchStart:function(t){this.touch.initiated=!0,this.touch.moved=!1;var e=t.touches[0];this.touch.startX=e.pageX,this.touch.startY=e.pageY},middleTouchMove:function(t){if(this.touch.initiated){var e=t.touches[0],n=e.pageX-this.touch.startX,i=e.pageY-this.touch.startY;if(!(Math.abs(i)>Math.abs(n)))if(this.touch.moved||(this.touch.moved=!0),n>0){if("lyric"!==this.currentShow)return"";this.touch.toChange=Math.abs(n)>40?"NO":"OK"}else{if("cd"!==this.currentShow)return"";this.touch.toChange=Math.abs(n)>40?"OK":"NO"}}},middleTouchEnd:function(){this.touch.moved&&("OK"===this.touch.toChange?(this.$refs.lyricList.$el.style.transform="translate3d(0px,0,0)",this.currentShow="lyric"):(this.$refs.lyricList.$el.style.transform="translate3d(375px,0,0)",this.currentShow="cd"))}},Object(m["d"])({likeSong:"likeSong",disLikeSong:"disLikeSong",setFullScreen:"SET_FULL_SCREEN",setPlayingState:"SET_PLAYING_STATE",setCurrentIndex:"SET_CURRENT_INDEX",setVkey:"SET_VKEY",setPlayMode:"SET_PLAY_MODE",setPlayList:"SET_PLAYLIST"})),Object(m["b"])(["savePlayHistory","saveFavoriteList","deleteFavoriteList"])),watch:{vkey:function(t,e){this.songUrlData=_(t,this.currentSong.mid),console.log(this.songUrlData),this.songPlay()},currentSong:function(t,e){var n=this;t.id&&t!==e&&(this.currentLyric&&this.currentLyric.stop(),this.$nextTick((function(){n.songUrlData=n.currentSong.url,console.log(n.songUrlData),n.songPlay()})))},playing:function(t){var e=this;this.$nextTick((function(){var n=e.$refs.audio;t?n.play():n.pause()}))}}},tt=Z,et=(n("985d"),n("da70")),nt=Object(x["a"])(tt,f,d,!1,null,"72651e84",null);"function"===typeof et["default"]&&Object(et["default"])(nt);var it=nt.exports,st=function(t){Object(o["a"])(n,t);var e=Object(c["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(a["a"])(n,[{key:"created",value:function(){}}]),n}(l["c"]);Object(u["a"])([Object(l["b"])()],st.prototype,"msg",void 0),st=Object(u["a"])([Object(l["a"])({name:"LayoutIndex",components:{MusicPlayer:it}})],st);var rt=st,at=rt,ot=(n("5e47"),Object(x["a"])(at,i,s,!1,null,null,null));e["a"]=ot.exports},1788:function(t,e,n){"use strict";n("99af"),n("c975"),n("baa5"),n("fb6a");e["a"]={addBaseUrl:function(t){if(!t)return t;if(t.indexOf("https://")<0&&t.indexOf("http://")<0&&t.indexOf("data:image")<0){var e="VUE_APP_BASE_URL +'/ifestatic'";t="".concat(e,"/").concat(t)}return t},delBaseUrl:function(t){if(!t)return t;var e=t.lastIndexOf("/"),n=t.slice(e+1);return n}}},"1c53":function(t,e,n){"use strict";var i=n("bdec"),s=n.n(i);e["default"]=s.a},"1e90":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"music-icon-ctn"},[n("span",{staticClass:"bar-item bar-item1",style:{backgroundColor:t.color}}),n("span",{staticClass:"bar-item bar-item2",style:{backgroundColor:t.color}}),n("span",{staticClass:"bar-item bar-item3",style:{backgroundColor:t.color}})])},s=[],r=n("d4ec"),a=n("262e"),o=n("2caf"),c=n("9ab4"),u=n("60a3"),l=function(t){Object(a["a"])(n,t);var e=Object(o["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return n}(u["c"]);Object(c["a"])([Object(u["b"])({default:"#00205b"})],l.prototype,"color",void 0),l=Object(c["a"])([Object(u["a"])({name:"AbusMusicIcon",components:{}})],l);var f=l,d=f,h=(n("cf68"),n("2877")),p=n("6fe9"),m=Object(h["a"])(d,i,s,!1,null,"634cf03a",null);"function"===typeof p["default"]&&Object(p["default"])(m);e["a"]=m.exports},2:function(t,e){},2159:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh":{},"en":{}}'),delete t.options._Ctor}},3:function(t,e){},"3c90":function(t,e,n){"use strict";var i=n("93b3"),s=n.n(i);s.a},"3dfd":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],r=(n("5c0b"),n("2877")),a={},o=Object(r["a"])(a,i,s,!1,null,null,null);e["a"]=o.exports},4:function(t,e){},4029:function(t,e,n){"use strict";var i=n("2159"),s=n.n(i);e["default"]=s.a},4659:function(t,e,n){"use strict";var i={name:"dateFormate",handler:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD hh:mm:ss";t+="",t=10==t.length?1e3*t:t;var n=new Date(t),i=n.getFullYear(),s=n.getMonth()+1;s=s<10?"0"+s:s;var r=n.getDate();r=r<10?"0"+r:r;var a=n.getHours();a=a<10?"0"+a:a;var o=n.getMinutes(),c=n.getSeconds();return o=o<10?"0"+o:o,c=c<10?"0"+c:c,"YYYY-MM-DD hh:mm:ss"==e?i+"-"+s+"-"+r+" "+a+":"+o+":"+c:"hh:mm"==e?a+":"+o:"hh:mm:ss"==e?a+":"+o+":"+c:i+"-"+s+"-"+r+" "+a+":"+o+":"+c}},s=i,r=(n("99af"),n("c975"),n("1788")),a={name:"addBaseUrl",handler:function(t){if(!t)return t;if(t=r["a"].delBaseUrl(t),t.indexOf("https://")<0&&t.indexOf("http://")<0&&t.indexOf("data:image")<0){var e="VUE_APP_BASE_URL +'/ifestatic'";t="".concat(e,"/").concat(t)}return t}},o=a,c=[s,o];e["a"]=c},5:function(t,e){},"5c0b":function(t,e,n){"use strict";var i=n("9c0c"),s=n.n(i);s.a},"5e47":function(t,e,n){"use strict";var i=n("cca6"),s=n.n(i);s.a},6:function(t,e){},"613c":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh":{},"en":{}}'),delete t.options._Ctor}},6883:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("d4ec"),s=n("bee2"),r=n("b32d"),a=function(){function t(){Object(i["a"])(this,t)}return Object(s["a"])(t,null,[{key:"getFlightInfo",value:function(t){return Object(r["a"])({url:"/v1/api/FlightInfo",method:"GET",data:t})}}]),t}()},"6a6a":function(t){t.exports=JSON.parse('{"flight":{},"home":{},"login":{"LOGIN":"LOGIN","Login":"Login","Registery":"Registery","Forgot-Password":"Forgot Password","input-text-01":"Your phone","input-text-02":"Password","Registery-p":{"Name":"Name","Portrait":"Portrait","Gender":"Gender","Female":"Female","Male":"Male","Phone":"Phone","Password":"Password","Confirm-password":"Confirm password","Date":"Date","Security-issues":"Security issues","Security-answer":"Security answer"}}}')},"6fe9":function(t,e,n){"use strict";var i=n("8199"),s=n.n(i);e["default"]=s.a},7:function(t,e){},"7ff2":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("d4ec"),s=n("bee2"),r=n("b32d"),a=function(){function t(){Object(i["a"])(this,t)}return Object(s["a"])(t,null,[{key:"getMusicBanners",value:function(t){return Object(r["a"])({url:"/v1/api/Music/Banners",method:"GET",data:t})}},{key:"getMusicPlaylistHot",value:function(t){return Object(r["a"])({url:"/v1/api/Music/Playlist/Hot",method:"POST",data:t})}},{key:"getMusicFM",value:function(t){return Object(r["a"])({url:"/v1/api/Music/FM",method:"GET",data:t})}},{key:"getMusicTop",value:function(t){return Object(r["a"])({url:"/v1/api/Music/Top",method:"GET",data:t})}},{key:"getMySongList",value:function(t){return Object(r["a"])({url:"/v1/api/Music/SongSubscribe/List",method:"POST",data:t})}},{key:"getPlaylistDetail",value:function(t){return Object(r["a"])({url:"/v1/api/Music/Playlist/"+t.id,method:"GET",data:t})}},{key:"subscribePlaylist",value:function(t){return Object(r["a"])({url:"/v1/api/Music/PlaylistSubscribe/"+t.id,method:"GET",data:t})}},{key:"unSubscribePlaylist",value:function(t){return Object(r["a"])({url:"/v1/api/Music/PlaylistUnSubscribe/"+t.id,method:"GET",data:t})}},{key:"getMyPlaylist",value:function(t){return Object(r["a"])({url:"/v1/api/Music/PlaylistSubscribe/List",method:"POST",data:t})}},{key:"subscribeSong",value:function(t){return Object(r["a"])({url:"/v1/api/Music/Song/Subscribe",method:"POST",data:t})}},{key:"unSubscribeSong",value:function(t){return Object(r["a"])({url:"/v1/api/Music/Song/UnSubscribe",method:"POST",data:t})}}]),t}()},8:function(t,e){},8199:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh":{},"en":{}}'),delete t.options._Ctor}},8289:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"music-play-ctn",on:{click:t.toUp}},[n("div",{staticClass:"song-img",class:{"abus-animat-rotate":t.playing},style:{backgroundImage:"url("+t.coverImage+")"}}),n("div",{staticClass:"song-name"},[t._v(t._s(t.currentSong.name))]),n("div",{staticClass:"play-ctn",on:{click:function(e){return e.stopPropagation(),t.togglePlaying(e)}}},[t.playing?t._e():n("i",{staticClass:"icon icon-play"}),t.playing?n("i",{staticClass:"icon icon-pause"}):t._e()])])},s=[],r=n("d4ec"),a=n("bee2"),o=n("262e"),c=n("2caf"),u=n("9ab4"),l=n("60a3"),f=function(t){Object(o["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(r["a"])(this,i),t=e.apply(this,arguments),t.playing=!1,t}return Object(a["a"])(i,[{key:"togglePlaying",value:function(){this.$emit("togglePlaying")}},{key:"playListClick",value:function(){this.$emit("playListClick")}},{key:"toUp",value:function(){this.$emit("toUp")}},{key:"coverImage",get:function(){return this.currentSong.image?this.currentSong.image:n("8d76")}}]),i}(l["c"]);Object(u["a"])([Object(l["b"])({default:function(){return{}}})],f.prototype,"currentSong",void 0),Object(u["a"])([Object(l["b"])()],f.prototype,"playing",void 0),f=Object(u["a"])([Object(l["a"])({name:"MusicPlayer",components:{}})],f);var d=f,h=d,p=(n("3c90"),n("2877")),m=n("4029"),g=Object(p["a"])(h,i,s,!1,null,"e865568c",null);"function"===typeof m["default"]&&Object(m["default"])(g);e["a"]=g.exports},"89ea":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={sequence:0,loop:1,random:2}},"8d76":function(t,e,n){t.exports=n.p+"img/default_cover.ecfb741f.png"},9:function(t,e){},"93b3":function(t,e,n){},"985d":function(t,e,n){"use strict";var i=n("0254"),s=n.n(i);s.a},"9ac0":function(t,e,n){"use strict";var i=n("0586"),s=n.n(i);s.a},"9c0c":function(t,e,n){},b32d:function(t,e,n){"use strict";n("99af"),n("d3b7");var i=n("5530"),s=n("bc6b"),r=n("bc3a"),a=n.n(r),o=n("2b0e"),c=n("8237"),u=n.n(c),l="0123456789qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM",f={randomStr:function(t){t=t||32;for(var e="",n=0;n<t;n++){var i=Math.floor(Math.random()*l.length);e+=l.charAt(i)}return e}},d=a.a.create({baseURL:"VUE_APP_BASE_URL +'/ifeapi'",timeout:1e4,withCredentials:!0});d.interceptors.request.use((function(t){var e=s["a"].get("token"),n=s["a"].get("airbusId")||"4CFC4D33-2C1E-E911-BAD5-F44D307124C0",r=(new Date).getTime()+"",a=f.randomStr(32),o="21fa6sd1f95w1133edsafas6",c="".concat(r,".").concat(o,".").concat(a),l=u()(c);return t.headers=Object(i["a"])(Object(i["a"])({},t.headers),{},{sign:l,timestamp:r,nonce:a,Authorization:e,AirBus:n}),t}),(function(t){Promise.reject(t)})),d.interceptors.response.use((function(t){if(200===t.status&&!t.data.error&&"200"==t.data.code)return t.data;if(200!==t.status||t.data.error||"401"!=t.data.code)return Promise.reject(t.data);var e=o["a"].config.host;e.$route.meta.noRequireAuth||e.$router.push("/login")}),(function(t){t.response.data;return Promise.reject(t)}));e["a"]=d},bc6b:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("d3b7"),n("25f0"),n("3452");var i={get:function(t){try{return JSON.parse(localStorage.getItem(t))}catch(e){return null}},set:function(t,e){localStorage.setItem(t,JSON.stringify(e))},remove:function(t){localStorage.removeItem(t)},clear:function(){localStorage.clear()}}},bdec:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh":{},"en":{}}'),delete t.options._Ctor}},cca6:function(t,e,n){},cf68:function(t,e,n){"use strict";var i=n("e11d"),s=n.n(i);s.a},d9b9:function(t,e,n){},da70:function(t,e,n){"use strict";var i=n("613c"),s=n.n(i);e["default"]=s.a},e11d:function(t,e,n){},f340:function(t,e,n){"use strict";var i=n("d9b9"),s=n.n(i);s.a},f9dc:function(t){t.exports=JSON.parse('{"flight":{},"home":{"testWord":"你好"},"login":{}}')}}]);